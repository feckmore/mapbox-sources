<mgl-map
  [style]="'mapbox://styles/mapbox/streets-v9'"
  [zoom]="[11.15]"
  [center]="[-73.995813, 40.730105]"
  [cursorStyle]="cursorStyle"
  (load)="mapLoaded($event)"
>
  <mgl-geojson-source id="points" [data]="points"></mgl-geojson-source>
  <mgl-layer
    id="points"
    source="points"
    type="symbol"
    [layout]="{
      'icon-image': 'icon-{icon}',
      'icon-size': 0.1,
      'icon-anchor': 'bottom',
      'icon-allow-overlap': true
    }"
    (click)="onClick($event)"
    (mouseEnter)="cursorStyle = 'pointer'"
    (mouseLeave)="cursorStyle = ''"
  ></mgl-layer>
  <mgl-popup
    *ngIf="selectedPoint"
    anchor="top"
    [lngLat]="selectedPoint.geometry.coordinates"
    (close)="selectedPoint = null"
  >
    <h3>{{ selectedPoint.properties.fullname }}</h3>
    <div>{{ selectedPoint.properties.address1 }}</div>
  </mgl-popup>
</mgl-map>
